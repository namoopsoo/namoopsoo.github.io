<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Handies | michal.piekarczyk.xyz</title>
<meta name=keywords content><meta name=description content="Handies - michal.piekarczyk.xyz"><meta name=author content="Michal Piekarczyk"><link rel=canonical href=https://michal.piekarczyk.xyz/handy/><link crossorigin=anonymous href=/assets/css/stylesheet.dd867d536fb6202811c1ee15fa181ef8945826662b49d3016ac91365a2621d58.css integrity="sha256-3YZ9U2+2ICgRwe4V+hge+JRYJmYrSdMBaskTZaJiHVg=" rel="preload stylesheet" as=style><link rel=icon href=https://michal.piekarczyk.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://michal.piekarczyk.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://michal.piekarczyk.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://michal.piekarczyk.xyz/apple-touch-icon.png><link rel=mask-icon href=https://michal.piekarczyk.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://michal.piekarczyk.xyz/handy/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-74MK08REDT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-74MK08REDT",{anonymize_ip:!1})}</script><meta property="og:title" content="Handies"><meta property="og:description" content="because why not"><meta property="og:type" content="website"><meta property="og:url" content="https://michal.piekarczyk.xyz/handy/"><meta property="og:site_name" content="michal.piekarczyk.xyz"><meta name=twitter:card content="summary"><meta name=twitter:title content="Handies"><meta name=twitter:description content="because why not"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Handies","item":"https://michal.piekarczyk.xyz/handy/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://michal.piekarczyk.xyz/ accesskey=h title="michal.piekarczyk.xyz (Alt + H)">michal.piekarczyk.xyz</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://michal.piekarczyk.xyz/post/ title=posts><span>posts</span></a></li><li><a href=https://michal.piekarczyk.xyz/project/ title=projects><span>projects</span></a></li><li><a href=https://michal.piekarczyk.xyz/handy/ title=handy><span class=active>handy</span></a></li><li><a href=https://michal.piekarczyk.xyz/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://michal.piekarczyk.xyz/about/ title=about><span>about</span></a></li><li><a href=https://world.hey.com/michal.piekarczyk title=frivolity><span>frivolity</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://michal.piekarczyk.xyz/>Home</a></div><h1>Handies</h1></header><article class=post-entry><header class=entry-header><h2></h2></header><div class=entry-content><p>Good to know.
sql = ''' select id, true is true true_is_true, true = true true_eq_true, false is false false_is_false, false = false false_eq_false, true is false true_is_false, true = false true_eq_false, false is true false_is_true, false = true false_eq_true, null = true null_eq_true, null is true null_is_true, null = false null_eq_false, null is false null_is_false, true is null true_is_null, true = null true_eq_null, false is null false_is_null, false = null false_eq_null, null is null null_is_null, null = null null_eq_null from blahblah limit 1 ''' db....</p></div><footer class=entry-footer>1 min&amp;nbsp;·&amp;nbsp;126 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</footer><a class=entry-link aria-label="post link to " href=https://michal.piekarczyk.xyz/handy/sql/is_equal/></a></article><article class=post-entry><header class=entry-header><h2></h2></header><div class=entry-content><p>subtract intervals from dates although in postgresql you can freely add/subtract dates/timestamps and intervals,
SELECT '2001-01-01'::timestamp + '1 year'::interval; in mysql land you need to do use date_sub and date_add
date_sub('2019-06-30' , interval 90 days) Subtract dates Also in postgresql you can just subtract dates,
'2021-01-01'::date - '2021-05-01'::date And in mysql to do this you can do
DATEDIFF('2021-01-01', '2021-05-01')</p></div><footer class=entry-footer>1 min&amp;nbsp;·&amp;nbsp;59 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</footer><a class=entry-link aria-label="post link to " href=https://michal.piekarczyk.xyz/handy/sql/time/></a></article><article class=post-entry><header class=entry-header><h2></h2></header><div class=entry-content><p>Create a new user username = 'new_user_foo' passw = input() sql = "CREATE USER {} WITH PASSWORD '{}' ".format(username, passw) Make some quick grants tables = ['table1', 'table_foo', ] username = 'xx' grant_queries = [q.format(username) for q in ["GRANT CONNECT ON DATABASE mydb TO {}", "GRANT USAGE ON SCHEMA public TO {}",] + ["GRANT SELECT ON {} TO ".format(t) + " {} " for t in tables]] check exissting users select * from pg_user update user password ; change ALTER USER user_name WITH PASSWORD 'new_password'; can use input() here too actually Check Existing Grants / permissions The user running this query might not be able to see all the rows SELECT table_catalog, table_schema, table_name, privilege_type, grantee FROM information_schema....</p></div><footer class=entry-footer>1 min&amp;nbsp;·&amp;nbsp;190 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</footer><a class=entry-link aria-label="post link to " href=https://michal.piekarczyk.xyz/handy/sql/user_management/></a></article><article class=post-entry><header class=entry-header><h2></h2></header><div class=entry-content><p>lpad is the func to make sure a month is always two digits as an example. select concat( extract (year from foo.timestamp)::text, lpad (extract (month from foo.timestamp)::text, 2, '0') ) as yearmonth, count(1) from foo where group by yearmonth order by yearmonth asc yearmonth count 202005 5208 202006 8584 202007 7780 202008 5382 202009 3635 202010 2791 202011 1284 202012 2704 202101 2416 202102 1964 202103 2554 202104 2935 202105 2909 202106 160</p></div><footer class=entry-footer>1 min&amp;nbsp;·&amp;nbsp;73 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</footer><a class=entry-link aria-label="post link to " href=https://michal.piekarczyk.xyz/handy/sql/zero_fill_dates/></a></article><article class=post-entry><header class=entry-header><h2></h2></header><div class=entry-content><p>Checking sha256 For older versions of sshd awk '{print $2}' /etc/sshd/ssh_host_rsa_key.pub | base64 -d | sha256sum -b | awk '{print $1}' | xxd -r -p | base64 Newer sshd ssh-keygen -l -f key.pub -E (sha256|md5)</p></div><footer class=entry-footer>1 min&amp;nbsp;·&amp;nbsp;35 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</footer><a class=entry-link aria-label="post link to " href=https://michal.piekarczyk.xyz/handy/ssh/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://michal.piekarczyk.xyz/handy/page/12/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://michal.piekarczyk.xyz/handy/page/14/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://michal.piekarczyk.xyz/>michal.piekarczyk.xyz</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>