<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Notes on hugo | michal.piekarczyk.xyz</title>
<meta name=keywords content><meta name=description content="Switched from Jekyll to Hugo"><meta name=author content="Michal Piekarczyk"><link rel=canonical href=https://michal.piekarczyk.xyz/post/2021-05-16-hugo-notes/><link crossorigin=anonymous href=/assets/css/stylesheet.dd867d536fb6202811c1ee15fa181ef8945826662b49d3016ac91365a2621d58.css integrity="sha256-3YZ9U2+2ICgRwe4V+hge+JRYJmYrSdMBaskTZaJiHVg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://michal.piekarczyk.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://michal.piekarczyk.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://michal.piekarczyk.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://michal.piekarczyk.xyz/apple-touch-icon.png><link rel=mask-icon href=https://michal.piekarczyk.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-74MK08REDT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-74MK08REDT",{anonymize_ip:!1})}</script><meta property="og:title" content="Notes on hugo"><meta property="og:description" content="Switched from Jekyll to Hugo"><meta property="og:type" content="article"><meta property="og:url" content="https://michal.piekarczyk.xyz/post/2021-05-16-hugo-notes/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-05-16T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-26T18:33:54-05:00"><meta property="og:site_name" content="michal.piekarczyk.xyz"><meta name=twitter:card content="summary"><meta name=twitter:title content="Notes on hugo"><meta name=twitter:description content="Switched from Jekyll to Hugo"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://michal.piekarczyk.xyz/post/"},{"@type":"ListItem","position":2,"name":"Notes on hugo","item":"https://michal.piekarczyk.xyz/post/2021-05-16-hugo-notes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Notes on hugo","name":"Notes on hugo","description":"Switched from Jekyll to Hugo","keywords":[],"articleBody":"2021-05-16 Trying to figure out My homepage only shows “posts” and not “portfolio” or “handy” . Also my “about” page. How to add “preview images” to posts Homepage this is a starting point I think. Create content/_index.md … Confusing but I think “templates” are stored in the /layouts directory. The “homepage template” is /layouts/index.html . If that doesnt exist a default one will be used I think. I copied this example below from here , and I had to create /layouts/partials/header.html, /layouts/partials/summary.html for some errors to disappear. But anyhow, that just produced a blank homepage. {{ partial \"header.html\" . }} {{ .Content }} {{ range .Paginator.Pages }} {{ partial \"summary.html\" . }} {{ end }} {{ partial \"pagination.html\" . }} {{ partial \"sidebar.html\" . }} {{ partial \"footer.html\" . }} But I just want to modify the homepage ever so slightly not completely override it. Base template Not sure if I’m ready to use it yet but here , I learned you can define a base template /layouts/_default/baseof.html like \u003c!DOCTYPE html\u003e \u003chtml\u003e \u003chead\u003e \u003cmeta charset=\"utf-8\"\u003e \u003ctitle\u003e{{ block \"title\" . }} {{ .Site.Title }} {{ end }}\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e {{ block \"main\" . }} {{ end }} {{ block \"footer\" . }} {{ end }} \u003c/body\u003e \u003c/html\u003e But you need to create /layouts/_default/list.html {{ define \"main\" }} \u003ch1\u003ePosts\u003c/h1\u003e {{ range .Pages }} \u003carticle\u003e \u003ch2\u003e{{ .Title }}\u003c/h2\u003e {{ .Content }} \u003c/article\u003e {{ end }} {{ end }} and /layouts/_default/single.html {{ define \"title\" }} {{ .Title }} \u0026ndash; {{ .Site.Title }} {{ end }} {{ define \"main\" }} \u003ch1\u003e{{ .Title }}\u003c/h1\u003e {{ .Content }} {{ end }} preview images Ok nice finally found how to set images , from here , the page for the “Ananke” theme that I am using. Maybe this is different for other themes.\nSo in the front matter ( between the --- and ---) , you can add featured_image: 'https://example.com/blahblah.jpg' and that will be displayed in the background for instance , when I put that into the content/_index.md the homepage index.\n2021-05-29 Hmm trying this approach for embedding images Here , where you do something like this\n--- resources: - name: forest-1 src: \"images/forest-1.jpg\" title: Forest (1) params: credits: \"[Jay Mantri](https://unsplash.com/@jaymantri) on [Unsplash](https://unsplash.com/s/photos/forest)\" --- { { \u003c img name=\"forest-1\" size=\"large\" lazy=false \u003e } } But I just tried this out and I’m getting this error now Rebuild failed: \"/blah..../content/en/post/2021-01-07-steak-two.md:29:1\": failed to extract shortcode: template for shortcode \"img\" not found { { \u003c img name=\"sizzle\" size=\"small\" lazy=true \u003e } } Not sure but maybe resources must be in a page bundle and cannot have a source that is a uri. ","wordCount":"497","inLanguage":"en","datePublished":"2021-05-16T00:00:00Z","dateModified":"2023-02-26T18:33:54-05:00","author":{"@type":"Person","name":"Michal Piekarczyk"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://michal.piekarczyk.xyz/post/2021-05-16-hugo-notes/"},"publisher":{"@type":"Organization","name":"michal.piekarczyk.xyz","logo":{"@type":"ImageObject","url":"https://michal.piekarczyk.xyz/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://michal.piekarczyk.xyz/ accesskey=h title="michal.piekarczyk.xyz (Alt + H)">michal.piekarczyk.xyz</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://michal.piekarczyk.xyz/post/ title=posts><span>posts</span></a></li><li><a href=https://michal.piekarczyk.xyz/project/ title=projects><span>projects</span></a></li><li><a href=https://michal.piekarczyk.xyz/handy/ title=handy><span>handy</span></a></li><li><a href=https://michal.piekarczyk.xyz/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://michal.piekarczyk.xyz/about/ title=about><span>about</span></a></li><li><a href=https://world.hey.com/michal.piekarczyk title=frivolity><span>frivolity</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://michal.piekarczyk.xyz/>Home</a>&nbsp;»&nbsp;<a href=https://michal.piekarczyk.xyz/post/>Posts</a></div><h1 class=post-title>Notes on hugo</h1><div class=post-description>Switched from Jekyll to Hugo</div><div class=post-meta>&lt;span title='2021-05-16 00:00:00 +0000 UTC'>May 16, 2021&lt;/span>&amp;nbsp;·&amp;nbsp;3 min&amp;nbsp;·&amp;nbsp;497 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#2021-05-16>2021-05-16</a></li><li><a href=#2021-05-29>2021-05-29</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h3 id=2021-05-16>2021-05-16<a hidden class=anchor aria-hidden=true href=#2021-05-16>#</a></h3><h4 id=trying-to-figure-out>Trying to figure out<a hidden class=anchor aria-hidden=true href=#trying-to-figure-out>#</a></h4><ul><li>My homepage only shows &ldquo;posts&rdquo; and not &ldquo;portfolio&rdquo; or &ldquo;handy&rdquo; . Also my &ldquo;about&rdquo; page.</li><li>How to add &ldquo;preview images&rdquo; to posts</li></ul><h4 id=homepage>Homepage<a hidden class=anchor aria-hidden=true href=#homepage>#</a></h4><ul><li><a href=https://gohugo.io/templates/homepage/>this</a> is a starting point I think.</li><li>Create <code>content/_index.md</code> &mldr;</li><li>Confusing but I think &ldquo;templates&rdquo; are stored in the <code>/layouts</code> directory.</li><li>The &ldquo;homepage template&rdquo; is <code>/layouts/index.html</code> . If that doesnt exist a default one will be used I think.</li><li>I copied this example below from <a href=https://bwaycer.github.io/hugo_tutorial.hugo/content/using-index-md/>here</a> , and I had to create <code>/layouts/partials/header.html</code>, <code>/layouts/partials/summary.html</code> for some errors to disappear. But anyhow, that just produced a blank homepage.</li></ul><pre tabindex=0><code>{{ partial &#34;header.html&#34; . }}
    &lt;main&gt;
          {{ .Content }}
          {{ range .Paginator.Pages }}
              {{ partial &#34;summary.html&#34; . }}
          {{ end }}
          {{ partial &#34;pagination.html&#34; . }}
    &lt;/main&gt;
  {{ partial &#34;sidebar.html&#34; . }}
  {{ partial &#34;footer.html&#34; . }}
</code></pre><ul><li>But I just want to modify the homepage ever so slightly not completely override it.</li></ul><h4 id=base-template>Base template<a hidden class=anchor aria-hidden=true href=#base-template>#</a></h4><ul><li>Not sure if I&rsquo;m ready to use it yet but <a href=https://gohugo.io/templates/base/>here</a> , I learned you can define a base template <code>/layouts/_default/baseof.html</code> like</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;utf-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>title</span>&gt;{{ block &#34;title&#34; . }}
</span></span><span style=display:flex><span>      <span style=color:#75715e>&lt;!-- Blocks may include default content. --&gt;</span>
</span></span><span style=display:flex><span>      {{ .Site.Title }}
</span></span><span style=display:flex><span>    {{ end }}&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- Code that all your templates share, like a header --&gt;</span>
</span></span><span style=display:flex><span>    {{ block &#34;main&#34; . }}
</span></span><span style=display:flex><span>      <span style=color:#75715e>&lt;!-- The part of the page that begins to differ between templates --&gt;</span>
</span></span><span style=display:flex><span>    {{ end }}
</span></span><span style=display:flex><span>    {{ block &#34;footer&#34; . }}
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- More shared code, perhaps a footer but that can be overridden if need be in  --&gt;</span>
</span></span><span style=display:flex><span>    {{ end }}
</span></span><span style=display:flex><span>  &lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><ul><li>But you need to create <code>/layouts/_default/list.html</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ define &#34;main&#34; }}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>h1</span>&gt;Posts&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>  {{ range .Pages }}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h2</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>      {{ .Content }}
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>  {{ end }}
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><ul><li>and <code>/layouts/_default/single.html</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ define &#34;title&#34; }}
</span></span><span style=display:flex><span>  <span style=color:#75715e>&lt;!-- This will override the default value set in baseof.html; i.e., &#34;{{.Site.Title}}&#34; in the original example--&gt;</span>
</span></span><span style=display:flex><span>  {{ .Title }} &amp;ndash; {{ .Site.Title }}
</span></span><span style=display:flex><span>{{ end }}
</span></span><span style=display:flex><span>{{ define &#34;main&#34; }}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>h1</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>  {{ .Content }}
</span></span><span style=display:flex><span>{{ end }}
</span></span></code></pre></div><h4 id=preview-images>preview images<a hidden class=anchor aria-hidden=true href=#preview-images>#</a></h4><ul><li><p>Ok nice finally found how to set images , from <a href=https://themes.gohugo.io/gohugo-theme-ananke/#change-the-hero-background>here</a> , the page for the &ldquo;Ananke&rdquo; theme that I am using. Maybe this is different for other themes.</p></li><li><p>So in the front matter ( between the <code>---</code> and <code>---</code>) , you can add <code>featured_image: 'https://example.com/blahblah.jpg'</code> and that will be displayed in the background for instance , when I put that into the <code>content/_index.md</code> the homepage index.</p></li></ul><h3 id=2021-05-29>2021-05-29<a hidden class=anchor aria-hidden=true href=#2021-05-29>#</a></h3><h4 id=hmm-trying-this-approach-for-embedding-images>Hmm trying this approach for embedding images<a hidden class=anchor aria-hidden=true href=#hmm-trying-this-approach-for-embedding-images>#</a></h4><p><a href=https://hugo-geekblog.geekdocs.de/posts/post-with-images/>Here</a> , where you do something like this</p><pre tabindex=0><code>---
resources:
  - name: forest-1
    src: &#34;images/forest-1.jpg&#34;
    title: Forest (1)
    params:
      credits: &#34;[Jay Mantri](https://unsplash.com/@jaymantri) on [Unsplash](https://unsplash.com/s/photos/forest)&#34;
---

{ { &lt; img name=&#34;forest-1&#34; size=&#34;large&#34; lazy=false &gt; } }
</code></pre><ul><li>But I just tried this out and I&rsquo;m getting this error now</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>Rebuild failed:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&#34;/blah..../content/en/post/2021-01-07-steak-two.md:29:1&#34;: failed to extract shortcode: template for shortcode &#34;img&#34; not found
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>{ { &lt; <span style=color:#f92672>img</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sizzle&#34;</span> <span style=color:#a6e22e>size</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;small&#34;</span> <span style=color:#a6e22e>lazy</span><span style=color:#f92672>=</span><span style=color:#e6db74>true</span> &gt; } }
</span></span></code></pre></div><ul><li>Not sure but maybe resources must be in a page bundle and cannot have a source that is a uri.</li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://michal.piekarczyk.xyz/post/2021-05-23-ffmpeg-stitching/><span class=title>« Prev</span><br><span>some ffmpeg stitching</span>
</a><a class=next href=https://michal.piekarczyk.xyz/post/2021-05-02-noom-gdpr/><span class=title>Next »</span><br><span>Noom Gdpr</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://michal.piekarczyk.xyz/>michal.piekarczyk.xyz</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>