<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>petrol car queue question | michal.piekarczyk.xyz</title>
<meta name=keywords content><meta name=description content="okay
Question There is a queue of N cars waiting at the filling station. 3 fuel dispensers, x, y, z. When a car arrives at front of the queue, driver can choose to go to any dispenser not occupied. If all unoccupied dispensers have less than required by the driver he has to wait. if more than one dispenser has the required liter, the driver chooses the one labeled with the smallest letter."><meta name=author content="Michal Piekarczyk"><link rel=canonical href=https://michal.piekarczyk.xyz/post/2023-09-30-petrol-car-queue-practice-question/><link crossorigin=anonymous href=/assets/css/stylesheet.dd867d536fb6202811c1ee15fa181ef8945826662b49d3016ac91365a2621d58.css integrity="sha256-3YZ9U2+2ICgRwe4V+hge+JRYJmYrSdMBaskTZaJiHVg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://michal.piekarczyk.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://michal.piekarczyk.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://michal.piekarczyk.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://michal.piekarczyk.xyz/apple-touch-icon.png><link rel=mask-icon href=https://michal.piekarczyk.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-74MK08REDT"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-74MK08REDT",{anonymize_ip:!1})}</script><meta property="og:title" content="petrol car queue question"><meta property="og:description" content="okay
Question There is a queue of N cars waiting at the filling station. 3 fuel dispensers, x, y, z. When a car arrives at front of the queue, driver can choose to go to any dispenser not occupied. If all unoccupied dispensers have less than required by the driver he has to wait. if more than one dispenser has the required liter, the driver chooses the one labeled with the smallest letter."><meta property="og:type" content="article"><meta property="og:url" content="https://michal.piekarczyk.xyz/post/2023-09-30-petrol-car-queue-practice-question/"><meta property="article:section" content="post"><meta property="article:published_time" content="1970-09-30T00:00:00+00:00"><meta property="article:modified_time" content="2023-09-30T17:07:24-04:00"><meta property="og:site_name" content="michal.piekarczyk.xyz"><meta name=twitter:card content="summary"><meta name=twitter:title content="petrol car queue question"><meta name=twitter:description content="okay
Question There is a queue of N cars waiting at the filling station. 3 fuel dispensers, x, y, z. When a car arrives at front of the queue, driver can choose to go to any dispenser not occupied. If all unoccupied dispensers have less than required by the driver he has to wait. if more than one dispenser has the required liter, the driver chooses the one labeled with the smallest letter."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://michal.piekarczyk.xyz/post/"},{"@type":"ListItem","position":2,"name":"petrol car queue question","item":"https://michal.piekarczyk.xyz/post/2023-09-30-petrol-car-queue-practice-question/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"petrol car queue question","name":"petrol car queue question","description":"okay\nQuestion There is a queue of N cars waiting at the filling station. 3 fuel dispensers, x, y, z. When a car arrives at front of the queue, driver can choose to go to any dispenser not occupied. If all unoccupied dispensers have less than required by the driver he has to wait. if more than one dispenser has the required liter, the driver chooses the one labeled with the smallest letter.","keywords":[],"articleBody":"okay\nQuestion There is a queue of N cars waiting at the filling station. 3 fuel dispensers, x, y, z. When a car arrives at front of the queue, driver can choose to go to any dispenser not occupied. If all unoccupied dispensers have less than required by the driver he has to wait. if more than one dispenser has the required liter, the driver chooses the one labeled with the smallest letter.Calculate max amount of waiting time.\nAssume taking one liter of fuel takes exactly one second? example A[2,8,4,3,2], x= 7, y=11, z=3, then cars will be waiting 0, 0, 2, 2, 8 seconds.red liter, the driver chooses the one labeled with the smallest letter.\nSo the max waiting time is 8 from [0,0,2,2,8] in this example.\nAnd if the car at the front of the queue has no match, then the answer ought to be -1.\nA pump must have all the gas required by a given car.\nOkay heres what I have from collections import OrderedDict from copy import deepcopy def choose(needs, pumps): occupied = False for name, pump in pumps.items(): if not pump[\"car\"]: if needs \u003c= pump[\"has\"]: return name else: occupied = True # if all pumps are free but no choice was made, then we will never finish if not occupied: return -1 def init_pumps(input_pumps): \"\"\" Example: \u003e\u003e\u003e init_pumps({\"x\": 2, \"y\": 4}) { \"x\": {\"car\": None, \"has\": 2}, \"y\": {\"car\": None, \"has\": 4}, } \"\"\" pumps = OrderedDict() for name in sorted(input_pumps.keys()): pumps[name] = {\"car\": None, \"has\": input_pumps[name]} return pumps def init_queue(input_queue): \"\"\" Example \u003e\u003e\u003e init_queue([1, 2]) [{\"needs\": 1, \"waits\": 0}, {\"needs\": 2, \"waits\": 0}] \"\"\" return [ {\"needs\": x, \"waits\": 0} for x in input_queue ] def dispense(pumps): for name, pump in pumps.items(): car = pump[\"car\"] if car: car[\"needs\"] -= 1 if car[\"needs\"] == 0: pump[\"car\"] = None pump[\"has\"] -= 1 def assign(car, pump): assert not pump[\"car\"] pump[\"car\"] = car def main(): cases = [ { \"pumps\": {\"x\": 7, \"y\": 11, \"z\": 3}, \"queue\": [2, 8, 4, 3, 2], }, { \"pumps\": {\"x\": 7, \"y\": 11, \"z\": 3}, \"queue\": [2, 8, 4, 3, 2, 6], }, { \"pumps\": {\"x\": 100, \"y\": 11, \"z\": 3}, \"queue\": [9, 9, 9, 9, 9, 9], }, ] for i, parameters in enumerate(cases): print(\"\\n==================\") print(\"case \", i, \"parameters\", parameters) time, finished_waiting = run(parameters) print(\"finished_waiting\", finished_waiting) print(\"max wait time\", time) print(\"Done, bye\") def wait(queue): for car in queue: car[\"waits\"] += 1 def run(parameters): time = 0 queue = init_queue(parameters[\"queue\"]) pumps = init_pumps(parameters[\"pumps\"]) finished_waiting = [] assigning = True while queue: while assigning and queue: car = queue[0] choice = choose(car[\"needs\"], pumps) if not choice: assigning = False elif choice == -1: print(\"uh oh, not enough gas. Quitting\") return -1, finished_waiting else: queue.pop(0) finished_waiting.append(deepcopy(car)) assign(car, pumps[choice]) wait(queue) dispense(pumps) assigning = True if not queue: break time += 1 return time, finished_waiting if __name__ == \"__main__\": main() ","wordCount":"475","inLanguage":"en","datePublished":"1970-09-30T00:00:00Z","dateModified":"2023-09-30T17:07:24-04:00","author":{"@type":"Person","name":"Michal Piekarczyk"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://michal.piekarczyk.xyz/post/2023-09-30-petrol-car-queue-practice-question/"},"publisher":{"@type":"Organization","name":"michal.piekarczyk.xyz","logo":{"@type":"ImageObject","url":"https://michal.piekarczyk.xyz/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://michal.piekarczyk.xyz/ accesskey=h title="michal.piekarczyk.xyz (Alt + H)">michal.piekarczyk.xyz</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://michal.piekarczyk.xyz/post/ title=posts><span>posts</span></a></li><li><a href=https://michal.piekarczyk.xyz/project/ title=projects><span>projects</span></a></li><li><a href=https://michal.piekarczyk.xyz/handy/ title=handy><span>handy</span></a></li><li><a href=https://michal.piekarczyk.xyz/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://michal.piekarczyk.xyz/about/ title=about><span>about</span></a></li><li><a href=https://world.hey.com/michal.piekarczyk title=frivolity><span>frivolity</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://michal.piekarczyk.xyz/>Home</a>&nbsp;»&nbsp;<a href=https://michal.piekarczyk.xyz/post/>Posts</a></div><h1 class=post-title>petrol car queue question</h1><div class=post-meta>&lt;span title='1970-09-30 00:00:00 +0000 UTC'>September 30, 1970&lt;/span>&amp;nbsp;·&amp;nbsp;3 min&amp;nbsp;·&amp;nbsp;475 words&amp;nbsp;·&amp;nbsp;Michal Piekarczyk</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#question>Question</a></li><li><a href=#okay-heres-what-i-have>Okay heres what I have</a></li></ul></nav></div></details></div><div class=post-content><p>okay</p><h2 id=question>Question<a hidden class=anchor aria-hidden=true href=#question>#</a></h2><p>There is a queue of N cars waiting at the filling station. 3 fuel dispensers, x, y, z. When a car arrives at front of the queue, driver can choose to go to any dispenser not occupied. If all unoccupied dispensers have less than required by the driver he has to wait. if more than one dispenser has the required liter, the driver chooses the one labeled with the smallest letter.Calculate max amount of waiting time.</p><p>Assume taking one liter of fuel takes exactly one second? example A[2,8,4,3,2], x= 7, y=11, z=3, then cars will be waiting 0, 0, 2, 2, 8 seconds.red liter, the driver chooses the one labeled with the smallest letter.</p><p>So the max waiting time is 8 from [0,0,2,2,8] in this example.</p><p>And if the car at the front of the queue has no match, then the answer ought to be -1.</p><p>A pump must have all the gas required by a given car.</p><h2 id=okay-heres-what-i-have>Okay heres what I have<a hidden class=anchor aria-hidden=true href=#okay-heres-what-i-have>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> collections <span style=color:#f92672>import</span> OrderedDict
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> copy <span style=color:#f92672>import</span> deepcopy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>choose</span>(needs, pumps):
</span></span><span style=display:flex><span>    occupied <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> name, pump <span style=color:#f92672>in</span> pumps<span style=color:#f92672>.</span>items():
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> pump[<span style=color:#e6db74>&#34;car&#34;</span>]:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> needs <span style=color:#f92672>&lt;=</span> pump[<span style=color:#e6db74>&#34;has&#34;</span>]:
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> name
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            occupied <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># if all pumps are free but no choice was made, then we will never finish</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> occupied:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>init_pumps</span>(input_pumps):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Example:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; init_pumps({&#34;x&#34;: 2, &#34;y&#34;: 4})
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    {
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;x&#34;: {&#34;car&#34;: None, &#34;has&#34;: 2},
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;y&#34;: {&#34;car&#34;: None, &#34;has&#34;: 4},
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    }
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    pumps <span style=color:#f92672>=</span> OrderedDict()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> name <span style=color:#f92672>in</span> sorted(input_pumps<span style=color:#f92672>.</span>keys()):
</span></span><span style=display:flex><span>        pumps[name] <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;car&#34;</span>: <span style=color:#66d9ef>None</span>, <span style=color:#e6db74>&#34;has&#34;</span>: input_pumps[name]}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> pumps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>init_queue</span>(input_queue):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Example
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &gt;&gt;&gt; init_queue([1, 2])
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    [{&#34;needs&#34;: 1, &#34;waits&#34;: 0}, {&#34;needs&#34;: 2, &#34;waits&#34;: 0}]
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>        {<span style=color:#e6db74>&#34;needs&#34;</span>: x, <span style=color:#e6db74>&#34;waits&#34;</span>: <span style=color:#ae81ff>0</span>}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> input_queue
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dispense</span>(pumps):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> name, pump <span style=color:#f92672>in</span> pumps<span style=color:#f92672>.</span>items():
</span></span><span style=display:flex><span>        car <span style=color:#f92672>=</span> pump[<span style=color:#e6db74>&#34;car&#34;</span>]
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> car:
</span></span><span style=display:flex><span>            car[<span style=color:#e6db74>&#34;needs&#34;</span>] <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> car[<span style=color:#e6db74>&#34;needs&#34;</span>] <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>                pump[<span style=color:#e6db74>&#34;car&#34;</span>] <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>            pump[<span style=color:#e6db74>&#34;has&#34;</span>] <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>assign</span>(car, pump):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>assert</span> <span style=color:#f92672>not</span> pump[<span style=color:#e6db74>&#34;car&#34;</span>]
</span></span><span style=display:flex><span>    pump[<span style=color:#e6db74>&#34;car&#34;</span>] <span style=color:#f92672>=</span> car
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    cases <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pumps&#34;</span>: {<span style=color:#e6db74>&#34;x&#34;</span>: <span style=color:#ae81ff>7</span>, <span style=color:#e6db74>&#34;y&#34;</span>: <span style=color:#ae81ff>11</span>, <span style=color:#e6db74>&#34;z&#34;</span>: <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;queue&#34;</span>: [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>],
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pumps&#34;</span>: {<span style=color:#e6db74>&#34;x&#34;</span>: <span style=color:#ae81ff>7</span>, <span style=color:#e6db74>&#34;y&#34;</span>: <span style=color:#ae81ff>11</span>, <span style=color:#e6db74>&#34;z&#34;</span>: <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;queue&#34;</span>: [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>6</span>],
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;pumps&#34;</span>: {<span style=color:#e6db74>&#34;x&#34;</span>: <span style=color:#ae81ff>100</span>, <span style=color:#e6db74>&#34;y&#34;</span>: <span style=color:#ae81ff>11</span>, <span style=color:#e6db74>&#34;z&#34;</span>: <span style=color:#ae81ff>3</span>},
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;queue&#34;</span>: [<span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>9</span>],
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i, parameters <span style=color:#f92672>in</span> enumerate(cases):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>==================&#34;</span>)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;case &#34;</span>, i, <span style=color:#e6db74>&#34;parameters&#34;</span>, parameters)
</span></span><span style=display:flex><span>        time, finished_waiting <span style=color:#f92672>=</span> run(parameters)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;finished_waiting&#34;</span>, finished_waiting)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;max wait time&#34;</span>, time)
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;Done, bye&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>wait</span>(queue):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> car <span style=color:#f92672>in</span> queue:
</span></span><span style=display:flex><span>        car[<span style=color:#e6db74>&#34;waits&#34;</span>] <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>run</span>(parameters):
</span></span><span style=display:flex><span>    time <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    queue <span style=color:#f92672>=</span> init_queue(parameters[<span style=color:#e6db74>&#34;queue&#34;</span>])
</span></span><span style=display:flex><span>    pumps <span style=color:#f92672>=</span> init_pumps(parameters[<span style=color:#e6db74>&#34;pumps&#34;</span>])
</span></span><span style=display:flex><span>    finished_waiting <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    assigning <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> queue:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> assigning <span style=color:#f92672>and</span> queue:
</span></span><span style=display:flex><span>            car <span style=color:#f92672>=</span> queue[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>            choice <span style=color:#f92672>=</span> choose(car[<span style=color:#e6db74>&#34;needs&#34;</span>], pumps)
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> choice:
</span></span><span style=display:flex><span>                assigning <span style=color:#f92672>=</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> choice <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>                print(<span style=color:#e6db74>&#34;uh oh, not enough gas. Quitting&#34;</span>)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, finished_waiting
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>                queue<span style=color:#f92672>.</span>pop(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>                finished_waiting<span style=color:#f92672>.</span>append(deepcopy(car))
</span></span><span style=display:flex><span>                assign(car, pumps[choice])
</span></span><span style=display:flex><span>        wait(queue)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        dispense(pumps)
</span></span><span style=display:flex><span>        assigning <span style=color:#f92672>=</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> queue:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>        time <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> time, finished_waiting
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://michal.piekarczyk.xyz/project/2016-12-18-citibike-project/><span class=title>« Prev</span><br><span>Citibike Learn Project</span>
</a><a class=next href=https://michal.piekarczyk.xyz/post/2019-10-19--jekyll/><span class=title>Next »</span><br><span></span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://michal.piekarczyk.xyz/>michal.piekarczyk.xyz</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>